// Copyright (c) 2015 - 2016 Markus Kohlhase <mail@markus-kohlhase.de>

@require 'nib'

@require "~normalize.css/normalize.css"
@require "~font-awesome/css/font-awesome.css"
@require "~source-sans-pro/source-sans-pro.css"

@require "Colors"

@require "~purecss/build/base.css"
@require "~purecss/build/grids.css"
@require "~purecss/build/grids-responsive.css"
@require "~purecss/build/menus.css"
@require "~purecss/build/forms.css"
@require "~purecss/build/buttons.css"

html, button, input, select, textarea
  font-family Source Sans Pro, sans-serif

.pure-g [class *= "pure-u"]
  font-family Source Sans Pro, FreeSans, Arimo, Droid Sans, Helvetica, Arial, sans-serif

label, legend
  span
    &.desc
      color #888
      font-size 0.8em
      margin-left 0.5em
form
  div.err
    color #f44
    font-size 0.9em
  input[type="text"], textarea, select
    &.err
      border-color #f44

button.pure-button i
  margin-right 0.5em

::-webkit-scrollbar
	background-color  #eee

::-webkit-scrollbar-thumb
	border-radius    0
	background-color #ccc

.SearchBar .main-categories button > i.toggle
    text-align: left
    display: block;
    width: 1.8em;
    height: 0.9em;
    border: 1px solid #FFF;
    border-radius: 0.5em;
    float: right;

    i
      display: inline-block;
      height: 0.9em;
      width: 0.9em;
      border-radius: 0.5em;
      background-color: #FFF;
      vertical-align: top;
      border: 1px solid #FFF;
      margin: -1px;

.SearchBar .main-categories button.active > i.toggle
  text-align: right !important

@keyframes fadein {
  from { opacity: 0; }
  to   { opacity: 1; }
}

.app
  background #fff
  display flex
  min-height 100vh
  height     100vh
  flex-direction column

  .main
    display flex
    flex 1

    div.modal
      position absolute
      background-color rgba(0,0,0,0.3)
      z-index 100
      top: 0
      right: 0
      left: 0
      bottom: 0
      width: 100%
      height: 100%
      animation: fadein 500ms;

      > div
        background-color: #FFF
        padding 10px
        border 1px solid $lightGray
        box-shadow: 0px 0px 10px
        position absolute
        top 20%
        left 30%

    .center, .left, .right
      transition  all 0.3s ease-out

    .center
      display flex
      flex 1

    .left
      order -1
      max-height     100vh
      overflow-y     hidden
      display        flex
      flex-direction column

      .content
        overflow-y     scroll
        padding-bottom 1.5em

      &.closed
        flex 0
      &.opened
        flex 0 0 350px

      .search.standalone
        left     1em
        top      1em
        width    350px
        z-index  2
        position absolute

      nav.menu
        z-index     10
        padding     0
        margin      0
        position    absolute
        bottom      0
        background  $coal
        width       350px
        text-align  center
        li
          cursor      pointer
          box-sizing  border-box
          font-weight normal
          padding     0.3em
          font-size   1.2em
          border      none
          color       $lightGray
          background  transparent
          border-top    4px solid transparent
          border-bottom 4px solid transparent
          &:hover
            color         #fff
            border-bottom 4px solid #fff
          i
            margin-right 0.5em

    .right
      &.opened
        flex 0 0 28em
      &.closed
        flex 0

    .right
      background  #fff
      color       $coal
      position    relative

      a
        text-decoration none
        color           $darkGray

      .menu-toggle, .content-toggle
        button
          outline         none
          position        absolute
          top             1em
          font-size       1.8em
          text-transform  uppercase
          text-align      right
          color           $darkGray
          background      #fff
          border          1px solid $lightGray
          border-radius   0.2em 0 0 0.2em
          padding         0.2em
          box-shadow      0 2px 8px 4px rgba(0,0,0,0.5)

          &:hover
            color       $coal
            box-shadow  0 2px 8px 4px rgba(0,0,0,0.7)

          .pincloud
            display inline-block
            width   3.5em
            height  1.2em
            background-position left
            background-image    url("../img/pincloud.png")
            background-repeat   no-repeat
            background-size     50%

          i
            margin-right 0.3em

      .content-toggle
        button
          right 0

      &.opened
        button
          margin-left   0
          color         $darkGray
          .pincloud
            width       2.0em
            background  none
        button, button:hover
          box-shadow    none
          border        none

      &.closed button
        width       3.8em
        margin-left -3.8em

      .logo
        margin-top 2em
        background          url("../img/logo.png")
        background-position center
        background-repeat   no-repeat
        height 95px

      div.menu-content
        padding   2.5em
        position  absolute
        top       10em
        bottom    2em
        left      0
        right     0
        overflow  auto

        a
          padding-bottom 0.05em
          border-bottom 1px solid rgba(255,255,255,0.4)
          &:hover
            color #000
            border-bottom 1px solid #000

      ul.menu
        margin 2.5em 0 0 0

      ul.submenu
        margin     0

      ul.menu, ul.submenu
        list-style none
        padding    0
        text-align center

      ul.menu > li
        margin-top 2.5em

      ul.submenu > li
        margin-top  0.75em
        font-size   0.85em

      ul.menu > li > a
        font-weight bold
        font-size   20px

      ul.menu > li, ul.submenu > li, div.menu-footer
        display         block
        cursor          pointer
        text-transform  uppercase

        a:hover
          color         #000
          border-bottom 2px solid #000

        &.active > a
          color         $coal
          border-bottom 2px solid $darkGray

      div.menu-footer
        position    absolute
        bottom      0
        left        0
        right       0
        padding     10px
        text-align  center
        font-size   0.85em

  .close-button
    text-align: center
    margin: 0
    padding: 1em

    button
      margin 0 5px

  .message
    white-space pre-wrap
    margin: 0
    padding: 1em

  .add-entry-form
    margin-left  1em
    margin-right 1em
    h3
      margin-top    0.5em
      margin-bottom 0.2em
    select
      height 2.5em

  .license input
    margin-top 0.7em

  .info .version
    font-size 0.7em

  .address
    span
      margin-right 0.3em
      &.delimiter
        margin-left -0.3em

  .entry-detail
    padding 1em

    a
      color           $darkGray
      text-decoration none

    h3
      margin-top  0
      color       $anthracite

    p
      color $darkGray

    .category
      text-align      right
      text-transform  uppercase

    &.event .category span
      color $event

    &.company .category span
      color $company

    &.initiative .category span
      color $initiative

  .group-header
    border-top    3px solid $lightGray
    padding 1em
    padding-top    0.5em
    padding-bottom 0.5em
    margin     0
    background  #eaeaea
    color       #666

  .city-list
    ul
      background  #f7f7f7
      list-style none
      margin  0
      padding 0

      li
        padding       0.2em
        padding-left  0.7em
        padding-right 0.7em
        cursor pointer
        line-height 0.9
        border-left 5px solid transparent

        &:hover
          background #fff
          border-left 5px solid $darkGray
          div.chevron
            color $darkGray
        span
          margin-right 0.5em

          &.city, &.county
            font-weight bold

          &.state
            color #555
            font-size 0.9em

          &.country
            font-size 0.8em

          &.country, &.prefix
            color #888

  div.chevron
    position relative
    color    $lightGray
    i
      position  absolute
      display   inline-table
      top       0
      bottom    0
      margin    auto

  .result
    padding-bottom 1.5em

  .result-list
    overflow  hidden
    background  #f7f7f7
    p.no-results
      margin 0
      padding 1em
      font-size 0.9em
      span
        margin-left 0.5em

    ul
      list-style none
      margin 0
      padding 0

      li
        cursor pointer
        margin 0
        padding-left   0.7em
        padding-top    0.7em
        padding-right  0.5em
        padding-bottom 0.7em
        border-bottom 1px solid #ddd
        border-left 5px solid transparent

        div:first-child
          margin-bottom 0.1em

        &.current-entry, &:hover
          background #fff

        &.event
          span.category
            color $event
          &.current-entry, &:hover
            border-left 5px solid $event

        &.company
          span.category
            color $company
          &.current-entry, &:hover
            border-left 5px solid $company

        &.initiative
          span.category
            color $initiative
          &.current-entry, &:hover
            border-left 5px solid $initiative

        span
          &.category
            font-size 0.8em
            color #aaa
            text-transform uppercase
          &.title
            font-weight bold
            font-size 1.2em
            margin-right 0.3em
          &.subtitle
            font-size 0.8em
            color #555
        .address
          font-size 0.8em
          color #888

        &.highlight-entry
          div.chevron
            color $darkGray
          &.initiative div.chevron
            color $initiative
          &.company div.chevron
            color $company
          &.event div.chevron
            color $event
